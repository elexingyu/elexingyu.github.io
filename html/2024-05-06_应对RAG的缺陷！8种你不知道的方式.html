<html>
<head>
<title></title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0,viewport-fit=cover">
<style>
*{margin:0;padding:0}html{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;line-height:1.6}img{z-index:999;position:relative;max-width:100%;margin:10px 0;}body{letter-spacing:.034em}h1,h2,h3,h4,h5,h6{font-weight:400;font-size:16px}a{color:#576b95;text-decoration:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}td,th{word-wrap:break-word;padding:5px 10px;border:1px solid #DDD;}table{margin-bottom:10px;border-collapse:collapse;display:table;width:100%!important;}.appmsg_skin_default .rich_media_area_primary{background-color:#fff}.appmsg_skin_default .rich_media_area_primary .weui-loadmore_line .weui-loadmore__tips{background-color:#fff}.rich_media_area_primary{padding:20px 16px 12px;background-color:#fafafa}@media (max-width:375px){.rich_media_area_primary{padding:20px 60px 15px 60px}.rich_media_area_extra{padding:0 60px 21px 60px}}@media (min-width:1024px){.rich_media_area_primary_inner,.rich_media_area_extra_inner,body{max-width:677px;margin-left:auto;margin-right:auto}.rich_media_area_primary{padding-top:32px}}.rich_media{padding:20px;overflow:hidden;}.appmsg_skin_default .rich_media_area_primary{background-color:#fff}.appmsg_skin_default .rich_media_area_primary .weui-loadmore_line .weui-loadmore__tips{background-color:#fff}@media screen and (min-width:1024px){.rich_media_area_primary_inner,.rich_media_area_extra_inner{max-width:677px;margin-left:auto;margin-right:auto}.rich_media_area_primary{padding-top:32px}}.rich_media_content{overflow:hidden;color:#333;font-size:17px;word-wrap:break-word;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;text-align:justify;position:relative;z-index:0}.rich_media_content *{max-width:100%!important;box-sizing:border-box!important;-webkit-box-sizing:border-box!important;word-wrap:break-word!important}.rich_media_content p{clear:both;min-height:1em}.rich_media_content em{font-style:italic}.rich_media_content fieldset{min-width:0}.rich_media_content .list-paddingleft-1,.rich_media_content .list-paddingleft-2,.rich_media_content .list-paddingleft-3{padding-left:2.2em}.rich_media_content .list-paddingleft-1 .list-paddingleft-2,.rich_media_content .list-paddingleft-2 .list-paddingleft-2,.rich_media_content .list-paddingleft-3 .list-paddingleft-2{padding-left:30px}.rich_media_content .list-paddingleft-1{padding-left:1.2em}.rich_media_content .list-paddingleft-3{padding-left:3.2em}.rich_media_content .code-snippet,.rich_media_content .code-snippet__fix{max-width:1000%!important}.rich_media_content .code-snippet *,.rich_media_content .code-snippet__fix *{max-width:1000%!important}.rich_media_title{font-size:22px;line-height:1.4;margin-bottom:13px;padding-bottom:13px;border-bottom:1px solid #e7e7eb;}@supports(-webkit-overflow-scrolling:touch){.rich_media_title{font-weight:700}}.rich_media_meta{display:inline-block;vertical-align:middle;padding:0 0 10px 0;font-size:15px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.rich_media_meta.icon_appmsg_tag{margin-right:0px}.rich_media_meta.meta_tag_text{margin-right:0}.rich_media_meta_list em{font-style:normal}.rich_media_meta_text{color:#a5a5a5;}p{margin:0;}.msgBox{margin-top:20px;padding-top:20px;padding-left:50px;overflow:hidden;border-top:2px dashed #09a2ff;}.msg{padding-top:7px;clear:both;}.msgBody{float:right;width:100%;margin-left:55px;padding-bottom:15px;border-bottom:1px dashed #e0e0e0;}.userHeadImg{float:left;margin-left:-50px;}.userHeadImg img{width:40px;height:40px;margin-right:10px;border-radius:3px;}.userName{color:#888888;line-height:24px;font-size:14px;margin:5px 0 5px 0;height:24px;}.replyBody,.autherBody{color:#565656;font-size:15px;}.replyIcon{border-left:4px solid #33ab01;margin-right:5px;}.ad{text-decoration:none;color:#d6d4d4;font-size:12px;}.msgBodyReply{padding-top:5px;}.userName span{float:right;color:#afafaf;font-size:14px;}code{text-align:left;font-size:14px;display:block;white-space:pre;display:-webkit-box;display:-webkit-flex;display:flex;position:relative;}.code-snippet__fix{font-size:14px;margin:10px 0;display:block;color:#333;position:relative;background-color:rgba(0,0,0,0.03);border:1px solid #f0f0f0;border-radius:2px;display:-webkit-box;display:-webkit-flex;display:flex;padding-left:25px;line-height:26px}.code-snippet__fix code{text-align:left;font-size:14px;display:block;white-space:pre;display:-webkit-box;display:-webkit-flex;display:flex;position:relative;font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace}.code-snippet__comment,.code-snippet__quote{color:#afafaf;font-style:italic}.code-snippet__keyword,.code-snippet__selector-tag,.code-snippet__subst{color:#ca7d37}.code-snippet__number,.code-snippet__literal,.code-snippet__variable,.code-snippet__template-variable,.code-snippet__tag .code-snippet__attr{color:#0e9ce5}.code-snippet__string,.code-snippet__doctag{color:#d14}.code-snippet__title,.code-snippet__section,.code-snippet__selector-id{color:#d14}.code-snippet__subst{font-weight:normal}.code-snippet__type,.code-snippet__class .code-snippet__title{color:#0e9ce5}.code-snippet__tag,.code-snippet__name,.code-snippet__attribute{color:#0e9ce5;font-weight:normal}.code-snippet__regexp,.code-snippet__link{color:#ca7d37}.code-snippet__symbol,.code-snippet__bullet{color:#d14}.code-snippet__built_in,.code-snippet__builtin-name{color:#ca7d37}.code-snippet__meta{color:#afafaf}.code-snippet__deletion{background:#fdd}.code-snippet__addition{background:#dfd}.code-snippet__emphasis{font-style:italic}.code-snippet__strong{font-weight:bold}.account_avatar{width:40px;height:40px;padding:0;}.account_info{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;padding:20px 0;align-items:center}.flex_bd{padding-left:14px;}.account_nickname{display:inline-block;vertical-align:middle;line-height:1.2;color:#576b95;font-size:14px}.account_desc{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1;color:rgba(0,0,0,0.3);font-size:14px;line-height:1.2;padding-top:.4em}.msg_source_url{text-align:left;word-break:break-all;margin-top:20px;}.msg_source_url a{padding-right:10px;}.msg_source_url .url_text{color:#a8a8a8;}.video-desc{font-size:14px;margin-top:15px;color:#6c6c6c;}.msg_source_url{text-align:left;}.original_primary_card_tips{color:rgba(0,0,0,0.3);line-height:1.4;font-size:15px;}.weui-flex__item{margin-bottom:20px;padding:20px 16px;margin-top:16px;line-height:1.4;align-items:center;background-color:#f7f7f7;border-radius:8px;position:relative;}.original_primary_desc{color:rgba(0,0,0,0.5);font-size:14px;padding-top:4px;width:auto;overflow:hidden;text-overflow:ellipsis;}.msgBodyReplyList{border-top:1px solid #e1e1e1;margin-top:10px;}.msgBodyReplyListTop{border-top:0;}.reply_like_num{float:right;font-size:14px;color:#c7c7c7;}.msgData{margin-top:20px;color:#626262;}.msgData span{font-size:14px;padding-right:15px;}.msgData .likes{float:right;padding-right:0;}.js_text_content p{font-size:18px;}.rich_media_meta_link{font-size:15px;}blockquote {padding-left: 10px;border-left: 3px solid #dbdbdb;color: rgba(0,0,0,0.5);font-size: 15px;padding-top: 4px;margin: 1em 0;}.video_iframe{width:500px;height:400px;}.blockquote_info{color:#b5b5b5;margin-top:10px;}#copyright_logo{color:#bdbdbd;}.rich_media_meta_list{margin-bottom:10px;}.reprint{background:#efefef;border-radius:5px;padding:8px;color:#1f1f1f;}.reprint a{word-break:break-all;}.topic{color:#8e8e8e;background:#f7f7f7;border-radius:5px;padding:10px 8px;}.topic a{padding-right:5px;}.topic p{margin-bottom:5px;}
</style>
<link href="https://www.juyifx.cn/config/css/wxArticle.css" rel="stylesheet">
</head><script>

</script>
<body><p xmlns="http://www.w3.org/1999/xhtml" style='margin-right: 8px;margin-bottom: 0px;margin-left: 8px;text-wrap: wrap;outline: 0px;background-color: rgb(255, 255, 255);font-size: 14px;text-align: left;line-height: 1.75;font-family: -apple-system-font, BlinkMacSystemFont, "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei UI", "Microsoft YaHei", Arial, sans-serif;letter-spacing: 0.1em;color: rgb(63, 63, 63);visibility: visible;'><span style='outline: 0px;color: rgb(136, 136, 136);font-family: "PingFang SC";letter-spacing: 0.1em;visibility: visible;font-size: 12px;'>作者：Hadi Arzouni</span></p><p xmlns="http://www.w3.org/1999/xhtml" style='margin-right: 8px;margin-bottom: 0px;margin-left: 8px;text-wrap: wrap;outline: 0px;background-color: rgb(255, 255, 255);font-size: 14px;text-align: left;line-height: 1.75;font-family: -apple-system-font, BlinkMacSystemFont, "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei UI", "Microsoft YaHei", Arial, sans-serif;letter-spacing: 0.1em;color: rgb(63, 63, 63);visibility: visible;'><span style='outline: 0px;color: rgb(136, 136, 136);font-family: "PingFang SC";letter-spacing: 0.1em;visibility: visible;font-size: 12px;'>编译：活水智能</span></p><p xmlns="http://www.w3.org/1999/xhtml" style='margin-right: 8px;margin-bottom: 0px;margin-left: 8px;text-wrap: wrap;outline: 0px;background-color: rgb(255, 255, 255);font-size: 14px;text-align: left;line-height: 1.75;font-family: -apple-system-font, BlinkMacSystemFont, "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei UI", "Microsoft YaHei", Arial, sans-serif;letter-spacing: 0.1em;color: rgb(63, 63, 63);visibility: visible;'><span style='outline: 0px;color: rgb(136, 136, 136);font-family: "PingFang SC";letter-spacing: 0.1em;visibility: visible;font-size: 12px;'>来源：Vectorize</span></p><p xmlns="http://www.w3.org/1999/xhtml" style='font-size: 14px; text-wrap: wrap; text-align: justify; line-height: 1.75; font-family: -apple-system-font, BlinkMacSystemFont, "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei UI", "Microsoft YaHei", Arial, sans-serif; margin: 1.5em 8px; letter-spacing: 0.1em; color: rgb(63, 63, 63); visibility: visible;'><span style='font-family: -apple-system-font, BlinkMacSystemFont, "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei UI", "Microsoft YaHei", Arial, sans-serif; letter-spacing: 0.1em; visibility: visible;'>检索增强生成（RAG）已成为构建大模型应用程序的标准架构。</span><span style='font-family: -apple-system-font, BlinkMacSystemFont, "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei UI", "Microsoft YaHei", Arial, sans-serif; letter-spacing: 0.1em; visibility: visible;'>RAG通过整合外部数据，增强了大模型能力，让大模型的回应更全面和准确。</span><span style='font-family: -apple-system-font, BlinkMacSystemFont, "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei UI", "Microsoft YaHei", Arial, sans-serif; letter-spacing: 0.1em; visibility: visible;'>然而，要充分发挥RAG系统的潜力，要识别并克服这项技术固有缺陷。</span><br style="visibility: visible;"></p><p xmlns="http://www.w3.org/1999/xhtml" style='font-size: 14px; text-wrap: wrap; text-align: justify; line-height: 1.75; font-family: -apple-system-font, BlinkMacSystemFont, "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei UI", "Microsoft YaHei", Arial, sans-serif; margin: 1.5em 8px; letter-spacing: 0.1em; color: rgb(63, 63, 63); visibility: visible;'>在接下来的章节中，我们将讨论构建大模型 RAG应用程序时，一些常见的数据相关的挑战，以及克服它们的策略。</p><h2 xmlns="http://www.w3.org/1999/xhtml" style='letter-spacing: normal; text-wrap: wrap; text-align: justify; line-height: 1.75; font-family: -apple-system-font, BlinkMacSystemFont, "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei UI", "Microsoft YaHei", Arial, sans-serif; font-size: 1.2em; font-weight: bold; display: table; margin: 4em auto 2em; padding-right: 0.2em; padding-left: 0.2em; background: rgb(1, 155, 252); color: rgb(255, 255, 255); visibility: visible;'>1. 数据提取技巧</h2><p xmlns="http://www.w3.org/1999/xhtml" style='font-size: 14px; text-wrap: wrap; text-align: justify; line-height: 1.75; font-family: -apple-system-font, BlinkMacSystemFont, "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei UI", "Microsoft YaHei", Arial, sans-serif; margin: 1.5em 8px; letter-spacing: 0.1em; color: rgb(63, 63, 63); visibility: visible;'><strong style="line-height: 1.75; color: rgb(1, 155, 252); visibility: visible;">挑战</strong>：解析复杂数据结构，如嵌入表格或图像的PDF文件，可能很困难，并且需要专门技术来准确提取相关信息。</p><p xmlns="http://www.w3.org/1999/xhtml" style='font-size: 14px; text-wrap: wrap; text-align: justify; line-height: 1.75; font-family: -apple-system-font, BlinkMacSystemFont, "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei UI", "Microsoft YaHei", Arial, sans-serif; margin: 1.5em 8px; letter-spacing: 0.1em; color: rgb(63, 63, 63); visibility: visible;'>目前为止，OCR（光学字符识别）仍然是一个主要解决方案，尤其是在扫描复杂文件，如发票时。</p><p xmlns="http://www.w3.org/1999/xhtml" style='font-size: 14px; text-wrap: wrap; text-align: justify; line-height: 1.75; font-family: -apple-system-font, BlinkMacSystemFont, "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei UI", "Microsoft YaHei", Arial, sans-serif; margin: 1.5em 8px; letter-spacing: 0.1em; color: rgb(63, 63, 63); visibility: visible;'><strong style="line-height: 1.75; color: rgb(1, 155, 252); visibility: visible;">策略</strong>：</p><ul xmlns="http://www.w3.org/1999/xhtml" style='font-size: 14px;letter-spacing: normal;text-wrap: wrap;text-align: left;line-height: 1.75;font-family: -apple-system-font, BlinkMacSystemFont, "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei UI", "Microsoft YaHei", Arial, sans-serif;padding-left: 1em;list-style: circle;color: rgb(63, 63, 63);' class="list-paddingleft-1"><li style="text-align: left;line-height: 1.75;text-indent: -1em;display: block;margin: 0.2em 8px;"><p style="text-align: justify;">•  先从文本数据管道开始。如果你的RAG系统无法在文本数据上表现良好，那么它在图像和音频上的表现也不会好。</p></li><li style="text-align: left;line-height: 1.75;text-indent: -1em;display: block;margin: 0.2em 8px;"><p style="text-align: justify;">• 如果你的数据包含PDF文件，那么使用好的解析工具。一个非常常见的文档识别方法是：将问题分割成较低复杂度的子问题。例如：如果你正在构建一个用于阅读医疗发票的RAG，那么你可以使用OCR工具识别特定字段，如总金额、税额等。如果需要，还可以使用高级视觉模型（GPT-4视觉在处理复杂PDF文档方面表现出色）。</p></li><li style="text-align: left;line-height: 1.75;text-indent: -1em;display: block;margin: 0.2em 8px;"><p style="text-align: justify;">• 值得注意的是，微软Azure可能拥有最佳的企业级预构建文档识别/理解工具（产品名称：Document Intelligence）。</p></li></ul><h2 xmlns="http://www.w3.org/1999/xhtml" style='letter-spacing: normal;text-wrap: wrap;text-align: justify;line-height: 1.75;font-family: -apple-system-font, BlinkMacSystemFont, "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei UI", "Microsoft YaHei", Arial, sans-serif;font-size: 1.2em;font-weight: bold;display: table;margin: 4em auto 2em;padding-right: 0.2em;padding-left: 0.2em;background: rgb(1, 155, 252);color: rgb(255, 255, 255);'>2. 处理结构化数据</h2><p xmlns="http://www.w3.org/1999/xhtml" style='font-size: 14px;text-wrap: wrap;text-align: justify;line-height: 1.75;font-family: -apple-system-font, BlinkMacSystemFont, "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei UI", "Microsoft YaHei", Arial, sans-serif;margin: 1.5em 8px;letter-spacing: 0.1em;color: rgb(63, 63, 63);'><strong style="line-height: 1.75;color: rgb(1, 155, 252);">挑战</strong>：大模型擅长处理非结构化数据，如自由流动的文本，但在处理结构化数据方面表现不佳，例如表格数据。</p><p xmlns="http://www.w3.org/1999/xhtml" style='font-size: 14px;text-wrap: wrap;text-align: justify;line-height: 1.75;font-family: -apple-system-font, BlinkMacSystemFont, "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei UI", "Microsoft YaHei", Arial, sans-serif;margin: 1.5em 8px;letter-spacing: 0.1em;color: rgb(63, 63, 63);'>当尝试使用大模型处理表格数据时，会出现许多问题，包括高比率的幻觉问题。我的建议是，尽量避免在表格数据上使用大模型。如果没有选择，那么：</p><p xmlns="http://www.w3.org/1999/xhtml" style='font-size: 14px;text-wrap: wrap;text-align: justify;line-height: 1.75;font-family: -apple-system-font, BlinkMacSystemFont, "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei UI", "Microsoft YaHei", Arial, sans-serif;margin: 1.5em 8px;letter-spacing: 0.1em;color: rgb(63, 63, 63);'><strong style="line-height: 1.75;color: rgb(1, 155, 252);">策略</strong>：</p><ul xmlns="http://www.w3.org/1999/xhtml" style='font-size: 14px;letter-spacing: normal;text-wrap: wrap;text-align: left;line-height: 1.75;font-family: -apple-system-font, BlinkMacSystemFont, "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei UI", "Microsoft YaHei", Arial, sans-serif;padding-left: 1em;list-style: circle;color: rgb(63, 63, 63);' class="list-paddingleft-1"><li style="text-align: left;line-height: 1.75;text-indent: -1em;display: block;margin: 0.2em 8px;"><p style="text-align: justify;">• 将表格数据转换为非结构化文本。在此过程中，你需要小心：</p></li><ul style='line-height: 1.75;font-family: -apple-system-font, BlinkMacSystemFont, "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei UI", "Microsoft YaHei", Arial, sans-serif;padding-left: 1em;list-style-position: initial;list-style-image: initial;' class="list-paddingleft-1"><li style="text-align: left;line-height: 1.75;text-indent: -1em;display: block;margin: 0.2em 8px;"><p style="text-align: justify;">• 数值表示：传统的分词方法，如字节对编码（BPE），将数字分割成不对齐的令牌，这使得大模型进行算术运算变得复杂。新型模型，如LLaMA，单独对每个数字进行分词，改善了对符号和数值数据的理解。</p></li></ul><ul style='line-height: 1.75;font-family: -apple-system-font, BlinkMacSystemFont, "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei UI", "Microsoft YaHei", Arial, sans-serif;padding-left: 1em;list-style-position: initial;list-style-image: initial;' class="list-paddingleft-1"><li style="text-align: left;line-height: 1.75;text-indent: -1em;display: block;margin: 0.2em 8px;"><p style="text-align: justify;">• 分类表示：表格数据中列过多，可能导致序列化输入字符串超出大模型的上下文限制，从而导致数据修剪和性能问题。分类特征表述不清晰，如无意义的字符，也可能阻碍LLM的处理和理解。</p></li><li style="text-align: left;line-height: 1.75;text-indent: -1em;display: block;margin: 0.2em 8px;"><p style="text-align: justify;"><br></p></li></ul><li style="text-align: left;line-height: 1.75;text-indent: -1em;display: block;margin: 0.2em 8px;"><p style="text-align: justify;">• 采用如链式表格方法等技术。该方法结合了表格分析与逐步信息提取策略，增强了RAG系统中的表格问答能力。</p></li></ul><h2 xmlns="http://www.w3.org/1999/xhtml" style='letter-spacing: normal;text-wrap: wrap;text-align: justify;line-height: 1.75;font-family: -apple-system-font, BlinkMacSystemFont, "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei UI", "Microsoft YaHei", Arial, sans-serif;font-size: 1.2em;font-weight: bold;display: table;margin: 4em auto 2em;padding-right: 0.2em;padding-left: 0.2em;background: rgb(1, 155, 252);color: rgb(255, 255, 255);'>3. 确定分块策略</h2><p xmlns="http://www.w3.org/1999/xhtml" style='font-size: 14px;text-wrap: wrap;text-align: justify;line-height: 1.75;font-family: -apple-system-font, BlinkMacSystemFont, "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei UI", "Microsoft YaHei", Arial, sans-serif;margin: 1.5em 8px;letter-spacing: 0.1em;color: rgb(63, 63, 63);'><strong style="line-height: 1.75;color: rgb(1, 155, 252);">挑战</strong>：</p><p xmlns="http://www.w3.org/1999/xhtml" style='font-size: 14px;text-wrap: wrap;text-align: justify;line-height: 1.75;font-family: -apple-system-font, BlinkMacSystemFont, "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei UI", "Microsoft YaHei", Arial, sans-serif;margin: 1.5em 8px;letter-spacing: 0.1em;color: rgb(63, 63, 63);'>确定将文档划分为语义上独立部分的最佳块大小，同时平衡对全面上下文的需求和快速检索的需求。更长的上下文会导致更长的推理时间（尝试使用Gemini 1.5 pro，上下文令牌为1M！），而较小的上下文块可能导致回答不完整。</p><p xmlns="http://www.w3.org/1999/xhtml" style='font-size: 14px;text-wrap: wrap;text-align: justify;line-height: 1.75;font-family: -apple-system-font, BlinkMacSystemFont, "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei UI", "Microsoft YaHei", Arial, sans-serif;margin: 1.5em 8px;letter-spacing: 0.1em;color: rgb(63, 63, 63);'>另一个分块策略的主要挑战是分块策略本身，即你应该基于句子分块？段落？字数？等等</p><p xmlns="http://www.w3.org/1999/xhtml" style='font-size: 14px;text-wrap: wrap;text-align: justify;line-height: 1.75;font-family: -apple-system-font, BlinkMacSystemFont, "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei UI", "Microsoft YaHei", Arial, sans-serif;margin: 1.5em 8px;letter-spacing: 0.1em;color: rgb(63, 63, 63);'><strong style="line-height: 1.75;color: rgb(1, 155, 252);">策略</strong>：</p><p xmlns="http://www.w3.org/1999/xhtml" style="text-align: justify;"><img class="rich_pages wxw-img js_img_placeholder wx_img_placeholder" data-backh="211" data-backw="578" data-galleryid="" data-imgfileid="100001672" data-ratio="0.3638888888888889" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_jpg/Oh47rXadcrcXu5HiaLo1FpTBu3XFRlLRy8mqNkynCAtGCUUxA4Z6PprMQNLS8ibYvcXwZrA4TFDSTias5JrJgo0Zg/640?wx_fmt=jpeg&amp;from=appmsg" data-type="png" data-w="1080" style="width: 677px !important; height: 246.353px !important;" data-original-style="width: 100%;height: auto;" data-index="1" src="https://mmbiz.qpic.cn/mmbiz_jpg/Oh47rXadcrcXu5HiaLo1FpTBu3XFRlLRy8mqNkynCAtGCUUxA4Z6PprMQNLS8ibYvcXwZrA4TFDSTias5JrJgo0Zg/640?wx_fmt=jpeg&amp;from=appmsg" _width="100%" crossorigin="anonymous" alt="图片"></p><p xmlns="http://www.w3.org/1999/xhtml" style='font-size: 14px;text-wrap: wrap;text-align: justify;line-height: 1.75;font-family: -apple-system-font, BlinkMacSystemFont, "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei UI", "Microsoft YaHei", Arial, sans-serif;margin: 1.5em 8px;letter-spacing: 0.1em;color: rgb(63, 63, 63);'>从简单的开始并迭代：首先选择一个简单的分块策略，进行评估，测量一切，我在这篇文章中更详细地谈到了分块策略：https://heycloud.beehiiv.com/p/text-splitting-chunking-rag-applications。</p><p xmlns="http://www.w3.org/1999/xhtml" style='font-size: 14px;text-wrap: wrap;text-align: justify;line-height: 1.75;font-family: -apple-system-font, BlinkMacSystemFont, "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei UI", "Microsoft YaHei", Arial, sans-serif;margin: 1.5em 8px;letter-spacing: 0.1em;color: rgb(63, 63, 63);'><span style='font-family: -apple-system-font, BlinkMacSystemFont, "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei UI", "Microsoft YaHei", Arial, sans-serif;letter-spacing: 0.1em;'>块大小应该遵循分块策略，而不是相反，意思是：</span><span style='font-family: -apple-system-font, BlinkMacSystemFont, "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei UI", "Microsoft YaHei", Arial, sans-serif;letter-spacing: 0.1em;'>首先确定你想要遵循的策略，然后考虑到你的策略和LLM的上下文大小来确定块大小。</span></p><p xmlns="http://www.w3.org/1999/xhtml" style='font-size: 14px;text-wrap: wrap;text-align: justify;line-height: 1.75;font-family: -apple-system-font, BlinkMacSystemFont, "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei UI", "Microsoft YaHei", Arial, sans-serif;margin: 1.5em 8px;letter-spacing: 0.1em;color: rgb(63, 63, 63);'><span style='font-family: -apple-system-font, BlinkMacSystemFont, "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei UI", "Microsoft YaHei", Arial, sans-serif;letter-spacing: 0.1em;'></span><span style='font-family: -apple-system-font, BlinkMacSystemFont, "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei UI", "Microsoft YaHei", Arial, sans-serif;letter-spacing: 0.1em;'>例如：</span><span style='font-family: -apple-system-font, BlinkMacSystemFont, "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei UI", "Microsoft YaHei", Arial, sans-serif;letter-spacing: 0.1em;'>如果你的数据是新闻文章的集合，那么段落级别的分块可能会有效，而且由于大多数LLM的上下文大小大于一个段落，那么你可以采用可变的块大小，即一个段落的大小。</span></p><h2 xmlns="http://www.w3.org/1999/xhtml" style='letter-spacing: normal;text-wrap: wrap;text-align: justify;line-height: 1.75;font-family: -apple-system-font, BlinkMacSystemFont, "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei UI", "Microsoft YaHei", Arial, sans-serif;font-size: 1.2em;font-weight: bold;display: table;margin: 4em auto 2em;padding-right: 0.2em;padding-left: 0.2em;background: rgb(1, 155, 252);color: rgb(255, 255, 255);'>4. 创建可扩展的流程</h2><p xmlns="http://www.w3.org/1999/xhtml" style='font-size: 14px;text-wrap: wrap;text-align: justify;line-height: 1.75;font-family: -apple-system-font, BlinkMacSystemFont, "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei UI", "Microsoft YaHei", Arial, sans-serif;margin: 1.5em 8px;letter-spacing: 0.1em;color: rgb(63, 63, 63);'><strong style="line-height: 1.75;color: rgb(1, 155, 252);">挑战</strong>：构建一个完善且可扩展的RAG流程，以处理大量数据，并持续地将其索引和存储在<span style="line-height: 1.75;color: rgb(87, 107, 149);">向量数据库</span>中。大多数RAG应用程序构建者将这部分作为后期考虑，这是有道理的，因为你的首要目标是制作一个有效的东西。</p><p xmlns="http://www.w3.org/1999/xhtml" style='font-size: 14px;text-wrap: wrap;text-align: justify;line-height: 1.75;font-family: -apple-system-font, BlinkMacSystemFont, "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei UI", "Microsoft YaHei", Arial, sans-serif;margin: 1.5em 8px;letter-spacing: 0.1em;color: rgb(63, 63, 63);'>然而，如果你知道你的应用最终将每小时处理TB级别的数据，那么你可能必须考虑到这一点来设计整个应用。</p><p xmlns="http://www.w3.org/1999/xhtml" style='font-size: 14px;text-wrap: wrap;text-align: justify;line-height: 1.75;font-family: -apple-system-font, BlinkMacSystemFont, "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei UI", "Microsoft YaHei", Arial, sans-serif;margin: 1.5em 8px;letter-spacing: 0.1em;color: rgb(63, 63, 63);'><strong style="line-height: 1.75;color: rgb(1, 155, 252);">策略</strong>：</p><ul xmlns="http://www.w3.org/1999/xhtml" style='font-size: 14px;letter-spacing: normal;text-wrap: wrap;text-align: left;line-height: 1.75;font-family: -apple-system-font, BlinkMacSystemFont, "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei UI", "Microsoft YaHei", Arial, sans-serif;padding-left: 1em;list-style: circle;color: rgb(63, 63, 63);' class="list-paddingleft-1"><li style="text-align: left;line-height: 1.75;text-indent: -1em;display: block;margin: 0.2em 8px;"><p style="text-align: justify;">• 再一次，从简单开始 🙂 我想你现在应该明白了！</p></li><li style="text-align: left;line-height: 1.75;text-indent: -1em;display: block;margin: 0.2em 8px;"><p style="text-align: justify;">• 尽早估计你的应用规模，即使你一开始不需要根据这些信息采取行动。</p></li><li style="text-align: left;line-height: 1.75;text-indent: -1em;display: block;margin: 0.2em 8px;"><p style="text-align: justify;">• 如有必要，采用模块化和分布式系统方法，将管道分解为可扩展单元，并采用分布式处理以提高并行操作效率。</p></li><li style="text-align: left;line-height: 1.75;text-indent: -1em;display: block;margin: 0.2em 8px;"><p style="text-align: justify;">• 使用经过实战测试的工具部署你的应用，如kubernetes。Kubernetes的好处是你可以根据需要进行扩展。例如，如果你需要一个定期的cron作业来清理新获取的数据，那么你可以安排它，并确保作业完成后它会消失，从而为你节省计算资源和金钱。</p></li></ul><h2 xmlns="http://www.w3.org/1999/xhtml" style='letter-spacing: normal;text-wrap: wrap;text-align: justify;line-height: 1.75;font-family: -apple-system-font, BlinkMacSystemFont, "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei UI", "Microsoft YaHei", Arial, sans-serif;font-size: 1.2em;font-weight: bold;display: table;margin: 4em auto 2em;padding-right: 0.2em;padding-left: 0.2em;background: rgb(1, 155, 252);color: rgb(255, 255, 255);'>5. 让检索数据在上下文中</h2><p xmlns="http://www.w3.org/1999/xhtml" style='font-size: 14px;text-wrap: wrap;text-align: justify;line-height: 1.75;font-family: -apple-system-font, BlinkMacSystemFont, "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei UI", "Microsoft YaHei", Arial, sans-serif;margin: 1.5em 8px;letter-spacing: 0.1em;color: rgb(63, 63, 63);'><strong style="line-height: 1.75;color: rgb(1, 155, 252);">挑战</strong>：RAG系统可能检索到不相关的数据，或者没有提供准确回应生成所需的必要上下文。这通常是由于：错误的嵌入、错误的用户查询、上下文截断等原因造成的。</p><p xmlns="http://www.w3.org/1999/xhtml" style='font-size: 14px;text-wrap: wrap;text-align: justify;line-height: 1.75;font-family: -apple-system-font, BlinkMacSystemFont, "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei UI", "Microsoft YaHei", Arial, sans-serif;margin: 1.5em 8px;letter-spacing: 0.1em;color: rgb(63, 63, 63);'><strong style="line-height: 1.75;color: rgb(1, 155, 252);">策略</strong>：</p><ul xmlns="http://www.w3.org/1999/xhtml" style='font-size: 14px;letter-spacing: normal;text-wrap: wrap;text-align: left;line-height: 1.75;font-family: -apple-system-font, BlinkMacSystemFont, "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei UI", "Microsoft YaHei", Arial, sans-serif;padding-left: 1em;list-style: circle;color: rgb(63, 63, 63);' class="list-paddingleft-1"><li style="text-align: left;line-height: 1.75;text-indent: -1em;display: block;margin: 0.2em 8px;"><p style="text-align: justify;">• 使用查询增强/重写来增强用户查询，通过额外的上下文或修改来提高检索信息的相关性。Cursor.sh的查询重写就是一个很好的例子。</p></li></ul><p xmlns="http://www.w3.org/1999/xhtml" style="text-align: center;"><img class="rich_pages wxw-img js_img_placeholder wx_img_placeholder" data-galleryid="" data-imgfileid="100001673" data-ratio="0.9974811083123426" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_jpg/Oh47rXadcrcXu5HiaLo1FpTBu3XFRlLRyBdAcwM43KvDaOSyrv19kpRIAEBYb4FJugI7pW0h60aSzEVafQC2IQA/640?wx_fmt=jpeg&amp;from=appmsg" data-type="png" data-w="794" style="width: 415px !important; height: 413.955px !important;" data-original-style="width: 415px;height: 414px;" data-index="2" src="https://mmbiz.qpic.cn/mmbiz_jpg/Oh47rXadcrcXu5HiaLo1FpTBu3XFRlLRyBdAcwM43KvDaOSyrv19kpRIAEBYb4FJugI7pW0h60aSzEVafQC2IQA/640?wx_fmt=jpeg&amp;from=appmsg" _width="415px" crossorigin="anonymous" alt="图片"></p><ul xmlns="http://www.w3.org/1999/xhtml" style='font-size: 14px;letter-spacing: normal;text-wrap: wrap;text-align: left;line-height: 1.75;font-family: -apple-system-font, BlinkMacSystemFont, "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei UI", "Microsoft YaHei", Arial, sans-serif;padding-left: 1em;list-style: circle;color: rgb(63, 63, 63);' class="list-paddingleft-1"><li style="text-align: left;line-height: 1.75;text-indent: -1em;display: block;margin: 0.2em 8px;"><p style="text-align: justify;">• 探索不同的检索策略，如从小到大的句子窗口检索和语义相似性评分，以将相关信息纳入上下文。</p></li><li style="text-align: left;line-height: 1.75;text-indent: -1em;display: block;margin: 0.2em 8px;"><p style="text-align: justify;">• 一个更高级的技巧是使用生成式UI来澄清用户意图。例如，你可以通过询问用户澄清其查询来回应用户的查询，以确保检索引擎检索到完整的上下文，然后再回答查询。<span style="line-height: 1.75;color: rgb(87, 107, 149);">Morphic.sh</span>就是一个使用动态生成的UI来澄清用户查询的答案引擎的好例子。</p></li><li style="text-align: left;line-height: 1.75;text-indent: -1em;display: block;margin: 0.2em 8px;"><p style="text-align: justify;">• 投资于监控解决方案以可视化提示、块和响应。</p></li></ul><h2 xmlns="http://www.w3.org/1999/xhtml" style='letter-spacing: normal;text-wrap: wrap;text-align: justify;line-height: 1.75;font-family: -apple-system-font, BlinkMacSystemFont, "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei UI", "Microsoft YaHei", Arial, sans-serif;font-size: 1.2em;font-weight: bold;display: table;margin: 4em auto 2em;padding-right: 0.2em;padding-left: 0.2em;background: rgb(1, 155, 252);color: rgb(255, 255, 255);'>6. 以任务为导向检索</h2><p xmlns="http://www.w3.org/1999/xhtml" style='font-size: 14px;text-wrap: wrap;text-align: justify;line-height: 1.75;font-family: -apple-system-font, BlinkMacSystemFont, "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei UI", "Microsoft YaHei", Arial, sans-serif;margin: 1.5em 8px;letter-spacing: 0.1em;color: rgb(63, 63, 63);'><strong style="line-height: 1.75;color: rgb(1, 155, 252);">挑战</strong>：RAG应用程序应该能够处理各种用户查询，包括寻求摘要、比较或特定事实的查询。因此，用一个检索提示来处理所有用户查询可能不够。</p><p xmlns="http://www.w3.org/1999/xhtml" style='font-size: 14px;text-wrap: wrap;text-align: justify;line-height: 1.75;font-family: -apple-system-font, BlinkMacSystemFont, "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei UI", "Microsoft YaHei", Arial, sans-serif;margin: 1.5em 8px;letter-spacing: 0.1em;color: rgb(63, 63, 63);'><strong style="line-height: 1.75;color: rgb(1, 155, 252);">策略</strong>：</p><ul xmlns="http://www.w3.org/1999/xhtml" style='font-size: 14px;letter-spacing: normal;text-wrap: wrap;text-align: left;line-height: 1.75;font-family: -apple-system-font, BlinkMacSystemFont, "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei UI", "Microsoft YaHei", Arial, sans-serif;padding-left: 1em;list-style: circle;color: rgb(63, 63, 63);' class="list-paddingleft-1"><li style="text-align: left;line-height: 1.75;text-indent: -1em;display: block;margin: 0.2em 8px;"><p style="text-align: justify;">• 实施查询路由，以根据初始用户查询识别适当的工具或来源子集，确保针对不同用例的适应性检索。路由通常涉及创建多个索引和一个分类器。分类器可以是一个小型且成本低廉的LLM，将查询分类并将其路由到相应的索引。</p></li></ul><p xmlns="http://www.w3.org/1999/xhtml" style="text-align: center;"><img class="rich_pages wxw-img js_img_placeholder wx_img_placeholder" data-galleryid="" data-imgfileid="100001674" data-ratio="2.1375" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/Oh47rXadcrcXu5HiaLo1FpTBu3XFRlLRyjtMTSGD8icFALFJfeQ4Yc2qia7JR6mFnrO8w8FFLGkVHmibxwrMdTU3Tw/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="480" style="width: 317px !important; height: 677.588px !important;" data-original-style="width: 317px;height: 678px;" data-index="3" src="https://mmbiz.qpic.cn/mmbiz_png/Oh47rXadcrcXu5HiaLo1FpTBu3XFRlLRyjtMTSGD8icFALFJfeQ4Yc2qia7JR6mFnrO8w8FFLGkVHmibxwrMdTU3Tw/640?wx_fmt=png&amp;from=appmsg" _width="317px" crossorigin="anonymous" alt="图片"></p><p xmlns="http://www.w3.org/1999/xhtml" style='font-size: 14px;text-wrap: wrap;text-align: center;line-height: 1.75;font-family: -apple-system-font, BlinkMacSystemFont, "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei UI", "Microsoft YaHei", Arial, sans-serif;margin: 1.5em 8px;letter-spacing: 0.1em;color: rgb(63, 63, 63);'><span style="font-size: 12px;color: rgb(136, 136, 136);">来源：https://mlnotes.substack.com/p/adaptive-query-routing-in-retrieval</span></p><h2 xmlns="http://www.w3.org/1999/xhtml" style='letter-spacing: normal;text-wrap: wrap;text-align: justify;line-height: 1.75;font-family: -apple-system-font, BlinkMacSystemFont, "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei UI", "Microsoft YaHei", Arial, sans-serif;font-size: 1.2em;font-weight: bold;display: table;margin: 4em auto 2em;padding-right: 0.2em;padding-left: 0.2em;background: rgb(1, 155, 252);color: rgb(255, 255, 255);'>7. 确保数据实效性</h2><p xmlns="http://www.w3.org/1999/xhtml" style='font-size: 14px;text-wrap: wrap;text-align: justify;line-height: 1.75;font-family: -apple-system-font, BlinkMacSystemFont, "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei UI", "Microsoft YaHei", Arial, sans-serif;margin: 1.5em 8px;letter-spacing: 0.1em;color: rgb(63, 63, 63);'><strong style="line-height: 1.75;color: rgb(1, 155, 252);">挑战</strong>：确保RAG应用程序始终使用最新和最准确的信息，特别是当文档更新时。</p><p xmlns="http://www.w3.org/1999/xhtml" style='font-size: 14px;text-wrap: wrap;text-align: justify;line-height: 1.75;font-family: -apple-system-font, BlinkMacSystemFont, "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei UI", "Microsoft YaHei", Arial, sans-serif;margin: 1.5em 8px;letter-spacing: 0.1em;color: rgb(63, 63, 63);'><strong style="line-height: 1.75;color: rgb(1, 155, 252);">策略</strong>：</p><ul xmlns="http://www.w3.org/1999/xhtml" style='font-size: 14px;letter-spacing: normal;text-wrap: wrap;text-align: left;line-height: 1.75;font-family: -apple-system-font, BlinkMacSystemFont, "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei UI", "Microsoft YaHei", Arial, sans-serif;padding-left: 1em;list-style: circle;color: rgb(63, 63, 63);' class="list-paddingleft-1"><li style="text-align: left;line-height: 1.75;text-indent: -1em;display: block;margin: 0.2em 8px;"><p style="text-align: justify;">• 实施元数据过滤，它充当标签以指示文档是新的还是已更改的，确保应用程序始终使用最新信息。</p></li><li style="text-align: left;line-height: 1.75;text-indent: -1em;display: block;margin: 0.2em 8px;"><p style="text-align: justify;">• 如在“确保数据在上下文中”中所述，一个更高级的技巧是使用生成式UI来澄清用户对最新性的意图。例如，你可以通过询问用户澄清他们是否在询问最近的事件或一般事件等来回答用户查询。<span style="line-height: 1.75;color: rgb(87, 107, 149);"></span></p></li><li style="text-align: left;line-height: 1.75;text-indent: -1em;display: block;margin: 0.2em 8px;"><p style="text-align: justify;">• 在某些情况下，LLMs会混淆它们内部学习到的关于日期的信息和外部数据时间戳，因此，在提示中明确使用哪个是很重要的。</p></li></ul><h2 xmlns="http://www.w3.org/1999/xhtml" style='letter-spacing: normal;text-wrap: wrap;text-align: justify;line-height: 1.75;font-family: -apple-system-font, BlinkMacSystemFont, "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei UI", "Microsoft YaHei", Arial, sans-serif;font-size: 1.2em;font-weight: bold;display: table;margin: 4em auto 2em;padding-right: 0.2em;padding-left: 0.2em;background: rgb(1, 155, 252);color: rgb(255, 255, 255);'>8. 应对数据安全</h2><p xmlns="http://www.w3.org/1999/xhtml" style='font-size: 14px;text-wrap: wrap;text-align: justify;line-height: 1.75;font-family: -apple-system-font, BlinkMacSystemFont, "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei UI", "Microsoft YaHei", Arial, sans-serif;margin: 1.5em 8px;letter-spacing: 0.1em;color: rgb(63, 63, 63);'><strong style="line-height: 1.75;color: rgb(1, 155, 252);">挑战</strong>：确保在RAG应用程序中使用的LLMs的安全性和完整性，防止敏感信息泄露，并解决伦理和隐私考虑。</p><p xmlns="http://www.w3.org/1999/xhtml" style='font-size: 14px;text-wrap: wrap;text-align: justify;line-height: 1.75;font-family: -apple-system-font, BlinkMacSystemFont, "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei UI", "Microsoft YaHei", Arial, sans-serif;margin: 1.5em 8px;letter-spacing: 0.1em;color: rgb(63, 63, 63);'>我在<span style="line-height: 1.75;color: rgb(87, 107, 149);">这里</span>写了关于构建RAG应用程序时应考虑的安全威胁。总结如下：</p><p xmlns="http://www.w3.org/1999/xhtml" style='font-size: 14px;text-wrap: wrap;text-align: justify;line-height: 1.75;font-family: -apple-system-font, BlinkMacSystemFont, "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei UI", "Microsoft YaHei", Arial, sans-serif;margin: 1.5em 8px;letter-spacing: 0.1em;color: rgb(63, 63, 63);'><strong style="line-height: 1.75;color: rgb(1, 155, 252);">策略和考虑</strong>：</p><ul xmlns="http://www.w3.org/1999/xhtml" style='font-size: 14px;letter-spacing: normal;text-wrap: wrap;text-align: left;line-height: 1.75;font-family: -apple-system-font, BlinkMacSystemFont, "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei UI", "Microsoft YaHei", Arial, sans-serif;padding-left: 1em;list-style: circle;color: rgb(63, 63, 63);' class="list-paddingleft-1"><li style="text-align: left;line-height: 1.75;text-indent: -1em;display: block;margin: 0.2em 8px;"><p style="text-align: justify;">• 实施多租户以保持用户数据的私密性和安全性是最重要的缓解策略之一。</p></li><li style="text-align: left;line-height: 1.75;text-indent: -1em;display: block;margin: 0.2em 8px;"><p style="text-align: justify;">• 正确处理用户提示，确保它不会滥用LLM。</p></li><li style="text-align: left;line-height: 1.75;text-indent: -1em;display: block;margin: 0.2em 8px;"><p style="text-align: justify;">• 分析RAG数据以寻找任何数据污染的迹象。</p></li></ul><h2 xmlns="http://www.w3.org/1999/xhtml" style='letter-spacing: normal;text-wrap: wrap;text-align: justify;line-height: 1.75;font-family: -apple-system-font, BlinkMacSystemFont, "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei UI", "Microsoft YaHei", Arial, sans-serif;font-size: 1.2em;font-weight: bold;display: table;margin: 4em auto 2em;padding-right: 0.2em;padding-left: 0.2em;background: rgb(1, 155, 252);color: rgb(255, 255, 255);'>结 论</h2><p xmlns="http://www.w3.org/1999/xhtml" style='font-size: 14px;text-wrap: wrap;text-align: justify;line-height: 1.75;font-family: -apple-system-font, BlinkMacSystemFont, "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei UI", "Microsoft YaHei", Arial, sans-serif;margin: 1.5em 8px;letter-spacing: 0.1em;color: rgb(63, 63, 63);'>数据是任何RAG系统的核心部分。数据问题可能会使你的RAG系统无法使用，或者更糟糕的是，使你的用户面临安全威胁。</p><p xmlns="http://www.w3.org/1999/xhtml" style='font-size: 14px;text-wrap: wrap;text-align: justify;line-height: 1.75;font-family: -apple-system-font, BlinkMacSystemFont, "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei UI", "Microsoft YaHei", Arial, sans-serif;margin: 1.5em 8px;letter-spacing: 0.1em;color: rgb(63, 63, 63);'>因此，意识到常见挑战并采取最佳策略来正确处理RAG数据非常重要。在本文中，我们试图正是解决这些常见问题，从缺失的上下文到数据安全等。<strong style='font-family: -apple-system-font, "system-ui", "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei UI", "Microsoft YaHei", Arial, sans-serif;font-size: 14px;letter-spacing: 1.4px;text-align: left;text-wrap: wrap;line-height: 1.75;color: rgb(1, 155, 252);'>■</strong></p><h3 xmlns="http://www.w3.org/1999/xhtml" style='letter-spacing: normal;text-wrap: wrap;text-align: justify;line-height: 1.2;font-family: -apple-system-font, BlinkMacSystemFont, "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei UI", "Microsoft YaHei", Arial, sans-serif;font-size: 1.1em;font-weight: bold;margin-top: 2em;margin-right: 8px;margin-bottom: 0.75em;padding-left: 8px;border-left: 3px solid rgb(1, 155, 252);color: rgb(63, 63, 63);'>参考文献</h3><ul xmlns="http://www.w3.org/1999/xhtml" style='font-size: 14px;letter-spacing: normal;text-wrap: wrap;text-align: left;line-height: 1.75;font-family: -apple-system-font, BlinkMacSystemFont, "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei UI", "Microsoft YaHei", Arial, sans-serif;padding-left: 1em;list-style: circle;color: rgb(63, 63, 63);' class="list-paddingleft-1"><li style="text-align: left;line-height: 1.75;text-indent: -1em;display: block;margin: 0.2em 8px;color: rgb(136, 136, 136);font-style: italic;"><p style="text-align: left;"><em><span style="color: rgb(136, 136, 136);">https://www.anyscale.com/blog/a-comprehensive-guide-for-building-rag-based-llm-applications-part-1</span></em></p></li><li style="text-align: left;line-height: 1.75;text-indent: -1em;display: block;margin: 0.2em 8px;color: rgb(136, 136, 136);font-style: italic;"><p style="text-align: left;"><em><span style="color: rgb(136, 136, 136);">https://mlnotes.substack.com/p/adaptive-query-routing-in-retrieval</span></em></p></li><li style="text-align: left;line-height: 1.75;text-indent: -1em;display: block;margin: 0.2em 8px;color: rgb(136, 136, 136);font-style: italic;"><p style="text-align: left;"><em><span style="color: rgb(136, 136, 136);">https://arxiv.org/html/2402.17944v2</span></em></p></li><li style="text-align: left;line-height: 1.75;text-indent: -1em;display: block;margin: 0.2em 8px;color: rgb(136, 136, 136);font-style: italic;"><p style="text-align: left;"><em><span style="color: rgb(136, 136, 136);">https://www.hopsworks.ai/dictionary/retrieval-augmented-generation-llm</span></em></p></li><li style="text-align: left;line-height: 1.75;text-indent: -1em;display: block;margin: 0.2em 8px;color: rgb(136, 136, 136);font-style: italic;"><p style="text-align: left;"><em><span style="color: rgb(136, 136, 136);">https://humanloop.com/blog/optimizing-llms</span></em></p></li><li style="text-align: left;line-height: 1.75;text-indent: -1em;display: block;margin: 0.2em 8px;color: rgb(136, 136, 136);font-style: italic;"><p style="text-align: left;"><em><span style="color: rgb(136, 136, 136);">https://gretel.ai/blog/how-to-improve-rag-model-performance-with-synthetic-data</span></em></p></li><li style="text-align: left;line-height: 1.75;text-indent: -1em;display: block;margin: 0.2em 8px;color: rgb(136, 136, 136);font-style: italic;"><p style="text-align: left;"><em><span style="color: rgb(136, 136, 136);">https://www.rungalileo.io/blog/optimizing-llm-performance-rag-vs-finetune-vs-both</span></em></p></li><li style="text-align: left;line-height: 1.75;text-indent: -1em;display: block;margin: 0.2em 8px;color: rgb(136, 136, 136);font-style: italic;"><p style="text-align: left;"><em><span style="color: rgb(136, 136, 136);">https://heycloud.beehiiv.com/p/cheaper-faster-rag-sql-layer</span></em></p></li><li style="text-align: left;line-height: 1.75;text-indent: -1em;display: block;margin: 0.2em 8px;color: rgb(136, 136, 136);font-style: italic;"><p style="text-align: left;"><em><span style="color: rgb(136, 136, 136);"></span></em></p></li></ul><section xmlns="http://www.w3.org/1999/xhtml" class="mp_profile_iframe_wrp"><mp-common-profile class="js_uneditable custom_select_card mp_profile_iframe mp_common_widget js_wx_tap_highlight" data-pluginname="mpprofile" data-id="Mzk0OTY0NzM1Ng==" data-headimg="http://mmbiz.qpic.cn/mmbiz_png/Oh47rXadcrdibxALa66icAMaGzPic3wRPiaS3iccsMu3UTBjtHiamZMlAWcf1icpRJKqEsjLQcGfMcBnD1nlUQZVickHxg/300?wx_fmt=png&amp;wxfrom=19" data-nickname="活水智能" data-alias="" data-signature="AI生产力专家。致力于通过AI教育、软件及社群提高专业知识工作者的生产力。 官网：huoshuiai.com" data-from="0" data-is_biz_ban="0" data-origin_num="61" data-isban="0" data-biz_account_status="0" data-index="0"></mp-common-profile></section><h4 xmlns="http://www.w3.org/1999/xhtml" style='margin: 2em 8px 0.5em;font-weight: bold;font-size: 1em;text-wrap: wrap;letter-spacing: normal;text-align: left;line-height: 1.75;font-family: -apple-system-font, BlinkMacSystemFont, "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei UI", "Microsoft YaHei", Arial, sans-serif;color: rgb(1, 155, 252);'>推荐阅读</h4><ul xmlns="http://www.w3.org/1999/xhtml" class="list-paddingleft-1" style='padding-left: 1em;width: 577.422px;text-wrap: wrap;font-size: 14px;letter-spacing: normal;text-align: left;line-height: 1.75;font-family: -apple-system-font, BlinkMacSystemFont, "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei UI", "Microsoft YaHei", Arial, sans-serif;list-style: circle;color: rgb(63, 63, 63);'><li style="margin: 0.2em 8px;text-align: left;line-height: 1.75;text-indent: -1em;display: block;"><p>• <a target="_blank" href="http://mp.weixin.qq.com/s?__biz=Mzk0OTY0NzM1Ng==&amp;mid=2247485065&amp;idx=1&amp;sn=b3bb902801311092ba14223464318da9&amp;chksm=c354641af423ed0c52700f29999b3548542d132a565d7159ca3d5c54a9bcf5ac937753394e66&amp;scene=21#wechat_redirect" textvalue="RAG系统是如何工作？附图及运用场景" linktype="text" imgurl="" imgdata="null" data-itemshowtype="0" tab="innerlink" data-linktype="2">RAG系统是如何工作？附图及运用场景</a><a href="https://mp.weixin.qq.com/s?__biz=Mzk0OTY0NzM1Ng==&amp;mid=2247485169&amp;idx=1&amp;sn=cd8f4d1be87702fdec14dfea200bd824&amp;scene=21#wechat_redirect" title="开源大模型太多怎么选？一文读懂，5个最好的开源大模型！" data-linktype="2" style="line-height: 1.75;"></a></p></li><li style="margin: 0.2em 8px;text-align: left;line-height: 1.75;text-indent: -1em;display: block;"><p>• <a href="https://mp.weixin.qq.com/s?__biz=Mzk0OTY0NzM1Ng==&amp;mid=2247485147&amp;idx=1&amp;sn=0028ada5db0a1dfd8b2dafa9616bee4d&amp;scene=21#wechat_redirect" title="AI21 Labs 实践经验：让大模型从“新奇玩具”到生产力工具" data-linktype="2" style="line-height: 1.75;"></a><a target="_blank" href="http://mp.weixin.qq.com/s?__biz=Mzk0OTY0NzM1Ng==&amp;mid=2247484977&amp;idx=1&amp;sn=e5e4bcc108c8cf6f01dcc305c84fd6ed&amp;chksm=c35464a2f423edb46defe0a8340c82f945a29fbabe851f024a6b13e171ae41f6703f3c3a1a07&amp;scene=21#wechat_redirect" textvalue="提示工程 vs 微调 vs RAG？终于讲明白了" linktype="text" imgurl="" imgdata="null" data-itemshowtype="0" tab="innerlink" data-linktype="2">提示工程 vs 微调 vs RAG？终于讲明白了</a></p></li><li style="margin: 0.2em 8px;text-align: left;line-height: 1.75;text-indent: -1em;display: block;"><p>• <a target="_blank" href="http://mp.weixin.qq.com/s?__biz=Mzk0OTY0NzM1Ng==&amp;mid=2247485244&amp;idx=1&amp;sn=8744193193a914600a66c4ec26fc20f3&amp;chksm=c35465aff423ecb9cdd71b785559e927ebbe3d9e6f71839827ccfc75589092b417011bdde12b&amp;scene=21#wechat_redirect" textvalue="多图预警！一文串联19篇顶级论文，带你厘清大模型发展脉络！" linktype="text" imgurl="" imgdata="null" data-itemshowtype="0" tab="innerlink" data-linktype="2">多图预警！一文串联19篇顶级论文，带你厘清大模型发展脉络！</a><a href="https://mp.weixin.qq.com/s?__biz=Mzk0OTY0NzM1Ng==&amp;mid=2247485168&amp;idx=1&amp;sn=e5dc118ed7d30c02ddc1b85ce9e59d86&amp;scene=21#wechat_redirect" title="微软推出 Phi-3 Mini！性能超过两倍大小的模型" data-linktype="2" style="line-height: 1.75;"></a></p></li></ul><p xmlns="http://www.w3.org/1999/xhtml" style="display: none;"><mp-style-type data-value="3"></mp-style-type></p></body>
</html>