---
categories: articles
date: 2024-10-25
layout: post
style: huoshui
tags:
- AI
- 教程
title: AI赋能交易：超越市场，如何用"草莓"模型打造策略
---

![我的超越市场的算法交易策略](https://miro.medium.com/v2/resize:fit:1400/1*MuD60qiJYZ1GJSSraELZpg.png)


当我第一次尝试新的 OpenAI o1（“草莓”）模型时，我并没有立刻感到惊讶。与传统的大语言模型不同，在那里我们可以立刻得到响应，新的 OpenAI 模型需要更长的时间来处理和生成响应——我们可以比喻称其为“思考”。而且，这个过程非常漫长。

实际上，它花了太长时间，以至于我不得不更新我的应用程序代码，因为我的应用程序不断遇到超时问题。我不知道新的常态是要等待 5 分钟才能得到一个响应。

但这种“思考”是值得的。因为我创建了一个**显著**超越市场表现的算法交易策略。

而且我是无意中做到的……在第一次尝试时。我震惊了。

想观看这篇文章的 AI 生成播客？点击这里！

## 我如何使用大语言模型创建算法交易策略

首先，让我们谈谈我是**如何**使用“草莓”模型创建算法交易策略的。

我构建了我的算法交易平台 NexusTrade，使其能够与任何大语言模型配合工作。虽然后端允许它与 Gemini、Llama 等开源模型以及其他大语言模型配合使用，但前端目前仅支持 OpenAI 和 Anthropic 模型。

其工作原理是一个多步骤的流程。

![](https://miro.medium.com/v2/resize:fit:1400/1*liT-wDvAILwWsRLrXXTzng.png)

NexusTrade 中 AI 聊天的工作流程

1. **发送请求**：用户的消息被发送到服务器
2. **分类请求**：从一系列提示词中，如“AI 股票筛选提示词”、“创建投资组合提示词”和“分析基本面提示词”，模型会确定处理请求的最相关提示词
3. **转发到提示词**：将消息发送到最相关的提示词并获取响应
4. **后处理响应**：根据提示词的不同，我们将执行额外的操作。例如，对于“AI 股票筛选提示词”，我们将生成一个 SQL 查询，然后在后处理步骤中，我们会对数据库执行该查询。

当模型判断用户想要创建交易策略时，它会创建一个“提示链”。

首先，我们创建投资组合的大纲，包括其名称、初始价值和策略的描述。

![在 NexusTrade 中创建投资组合](https://miro.medium.com/v2/resize:fit:1174/1*Ym-j8n5f6immCEJEkiJw2g.png)


然后，根据策略的描述，我们创建策略的大纲。这包括策略名称、一个操作（“买入”或“卖出”）、我们想要购买的资产、购买数量（例如 10% 的购买力或 100 股），以及我们希望何时执行该操作的描述。

最后，我们为条件重复此过程，并将描述转换为可以被 NexusTrade 的回测和实时交易功能解释的条件。

这个过程使我们能够使用 AI 创建投资组合。

在 OpenAI 的“草莓”模型之前，AI 非常字面化。它会创建你要求的内容，但它不擅长生成自己的想法。用户完全负责清楚地表达他们的需求并对其进行迭代。

这就是为什么当我看到这个新模型在第一次尝试中创建了一个**非常**有利可图的交易策略时，我感到非常震惊。

## “思考”在开发算法交易策略时的不同之处

为了展示这一点有多么疯狂，我将使用完全相同的提示词创建两个投资组合。第一个投资组合由 GPT-4 创建。第二个投资组合由 GPT-o1-mini 创建。**我在创建这些投资组合时使用的提示词没有任何区别。**

## 使用 GPT-4 创建投资组合

![使用 GPT-4 创建的 AI 投资组合](https://miro.medium.com/v2/resize:fit:1400/1*UBY9QsxjwWrIm2b8MPKlFg.png)


为了创建投资组合，我进入 AI 聊天并说了以下内容：

1. **我**：创建一个名为“Omni”的投资组合，初始价值为 10,000 美元
2. **Aurora**：您希望在名为“Omni”的投资组合中实施什么策略？例如，您可以指定买入或卖出特定股票或加密货币的条件。
3. **我**：我想要一个在 TQQQ 上的 SMA 均线交叉策略。我想要一个止盈策略，但不要止损——我长期看好科技股，不希望被止损出局。我还希望分批买入，而不是一次性全仓。

在我的第一次尝试中，这是我用 GPT-4 创建的投资组合。

![](https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4PbxUea6sv6i24FkWBKufA.png)


正如我们所看到的，这……并不是很好。回报率远低于持有 SPY，风险调整后的回报率也差得多，而且它进行了大量交易（在现实生活中，这会产生税收影响，进一步减少你的实际收益）。

相比之下，这是我用新的“草莓”模型创建的投资组合。

## 由 GPT-o1 创建的杰出投资组合

![](https://miro.medium.com/v2/resize:fit:1400/1*3mmMlerALSj0zbQS54XPRQ.png)

创建这个投资组合的过程完全相同。唯一的区别是我使用了一个更强大的模型。

然而，结果却令人惊叹。

![我的超越市场的算法交易策略](https://miro.medium.com/v2/resize:fit:1400/1*0fWUPqt2HR9fiucZb-90Lg.png)



这个投资组合好得令人难以置信。这个策略几乎在所有可以想象的方面都超越了市场。

1. 百分比变化比持有 SPY 高出 3 倍，达到 268%
2. 夏普比率更高，达到 0.71，而持有 SPY 的夏普比率为 0.51
3. 最大回撤为 37%，而持有 SPY 的回撤为 34%
4. 但平均回撤却更低，仅为 4.35%，而持有 SPY 的平均回撤接近 7%

这真是……让人惊叹。不仅利润大幅提高，而且风险还更低？这太不可思议了。

## 对这些结果的深入讨论

看到这些结果后，我感到非常困惑，决定深入研究一下——这个模型做了什么是 GPT-4 没有做到的？

我发现了一个关键细节：在生成该策略的卖出条件时，GPT-4 只要仓位上涨 0.15% 就会卖出。

![GPT-4 的卖出规则](https://miro.medium.com/v2/resize:fit:1400/1*SN0Nq5gQtQn2CinMOkXUqg.png)


相比之下，由 OpenAI 的草莓模型创建的投资组合会在股票的 14 日平均价格上涨 15% 或更多时卖出。

![o1-mini 模型的卖出规则](https://miro.medium.com/v2/resize:fit:1400/1*HeTQ5ZO4gIc8oZrMSnldEg.png)


我猜想，由 GPT-4 创建的模型只是卖得太早了。我对 GPT-4 创建的投资组合进行了一个小调整。

![我对该投资组合所做的调整](https://miro.medium.com/v2/resize:fit:1400/1*Px3Ru98PERwTtQzwCQUqcw.png)


最终，这个投资组合也获得了出色的超越市场的回报。

![调整后的投资组合回报](https://miro.medium.com/v2/resize:fit:1400/1*nOPLEwtQXAfWhW6sFoYi-g.png)


显然，o1-mini 模型对如何为我的应用程序创建有效的投资组合有更好的理解，而无需迭代。相比之下，GPT-4 模型则需要更多专家用户的帮助。最终，**两个投资组合都获得了超越市场的出色回报。**

## 该实验的下一步

目前，这些结果仅仅是回测结果——它们显示了如果我们在过去部署这个投资组合会发生什么。这很有用，但还不够。我们需要看看如果我们现在部署这些投资组合会发生什么。

因此，我正在将这些策略实时部署到市场，并监控它们未来的表现。

![在 NexusTrade 中部署策略](https://miro.medium.com/v2/resize:fit:1400/1*cpLDi-nS8Ap6fyv7HpNvKA.png)


在 NexusTrade 中，部署一个算法交易策略**字面上**只需要点击一个按钮。在接下来的几周里，我将测试 AI——它**真的**能创建盈利的交易策略，还是仅仅在回测中运气好。

只有时间能告诉我们答案。

## 总结

AI 将彻底改变每一个行业，金融业也不例外。这个实验证明了，至少，AI 可以帮助增强你的交易决策。现在断定纯粹由 AI 生成的投资组合本质上优于其他组合还为时过早，但这个实验最令人震惊的地方在于，这些投资组合是仅在几分钟内生成的。

本文展示了 OpenAI 的两个语言模型都可以创建非常盈利的算法交易策略。o1 模型无需任何人工干预就能做到这一点，而 GPT-4 模型则需要人类专家的帮助。最终，两个模型的回测回报都远远超过了标准普尔500指数。